@model CreateCommentViewModel

@Html.ValidationSummary(false, "", new { @class = "text-danger" })

@if (User.Identity.IsAuthenticated)
{
    @* UPDATE THIS LINK *@
    using (Html.BeginForm("CreateComment", "Comment", new { PostId = Model.PostId.Value }, FormMethod.Post, new { @class = "commenting-form" }))
    {
        @*<span class="text-danger">@Model.ErrorMessage</span>*@
        <div class="row">
            <div class="form-group col-md-12">
                @Html.TextAreaFor(model => model.Body, new
                {
                    style = "max-width: unset;",
                    name = "Body",
                    id = "Body",
                    placeholder = "Type your comment",
                    @class ="form-control"
                })
                @*@Html.ValidationMessageFor(model => model.Body)*@
            </div>

            <div class="form-group col-md-12">
                <button type="submit" class="btn btn-outline-secondary">Submit Comment</button>
            </div>
        </div>
    }
}
else
{
    <p class="text-secondary">
        To Leave a comment you need to be logged in
        @Html.ActionLink("Log in", "Login", "Account", new { ReturnUrl = Request.Url.AbsoluteUri }, new { @class = "text-primary" })
    </p>
}

<!--
@if (User.Identity.IsAuthenticated)
{
    @* UPDATE THIS LINK *@
    using (Html.BeginForm("CreateComment", "Comment", new { postId = Model.Id }, FormMethod.Post, new { @class = "commenting-form" }))
    {
        <div class="row">
            <div class="form-group col-md-12">
                <textarea style="max-width: unset;"
                            name="Body"
                            id="Body"
                            placeholder="Type your comment"
                            class="form-control"></textarea>
            </div>

            <div class="form-group col-md-12">
                <button type="submit" class="btn btn-outline-secondary">Submit Comment</button>
            </div>
        </div>
    }
}
else
{
    <p class="text-secondary">
        To Leave a comment you need to be logged in
        @Html.ActionLink("Log in", "Login", "Account", new { ReturnUrl = Request.Url.AbsoluteUri }, new { @class = "text-primary" })
    </p>
}
-->
